<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Orchestrated Functional Testing with Puppet-spec and Mspectator</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"/>

  <link rel="stylesheet" href=".//css/reset.css" type="text/css"/>

  
  <link rel="icon" href="file/_images-base/favicon.ico"/>
  

  <link type="text/css" href=".//css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href=".//css/sh_style.css" rel="stylesheet" />
  <link type="text/css" href=".//css/tipsy.css" rel="stylesheet" />

  <link rel="stylesheet" href=".//css/showoff.css" type="text/css"/>

  <script type="text/javascript" src=".//js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src=".//js/jquery-print.js"></script>
  <script type="text/javascript" src=".//js/jquery.batchImageLoad.js"></script>
  <script type="text/javascript" src=".//js/jquery.parsequery.min.js"></script>
  <script type="text/javascript" src=".//js/jquery.doubletap-0.1.js"></script>
  <script type="text/javascript" src=".//js/jquery.tipsy.js"></script>

  <script type="text/javascript" src=".//js/fg.menu.js"></script>
  <script type="text/javascript" src=".//js/showoff.js"></script>
  <script type="text/javascript" src=".//js/jTypeWriter.js"> </script>
  <script type="text/javascript" src=".//js/sh_main.min.js"></script>
  <script type="text/javascript" src=".//js/core.js"></script>
  <script type="text/javascript" src=".//js/showoffcore.js"></script>
  <script type="text/javascript" src=".//js/coffee-script.js"></script>

  
    
  

  
    
    <link rel="stylesheet" href=".//file/showoff.css" type="text/css"/>
  

  

  <script type="text/javascript">
    $(function(){
      setupPreso(false, './');
    });

    editUrl  = "";
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>
<a tabindex="1" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="stylemenu"><span class="ui-icon ui-icon-triangle-1-s"></span>styles</a>
<div id="stylepicker" class="hidden"></div>

<div id="feedbackWrapper">
    <div id="feedbackSidebar">
        <img id="feedbackActivity" src=".//css/spinner.gif" />
        <h3>Live Interaction</h3>
        <div class="row">
          <h4>The presenter should...</h4>
          <span class="buttonWrapper slower"><button id="paceSlower">Slow Down</button></span>
          <span class="buttonWrapper faster"><button id="paceFaster">Speed Up</button></span>
        </div>
        <div class="row">
          <textarea id="question"></textarea>
          <button id="askQuestion">Ask a Question</button>
        </div>
        <hr />
        <h3>Material Feedback</h3>
        <div class="row">
          <h4>This slide is...</h4>
          Terrible
          <input type="radio" name="rating" value="1"></input>
          <input type="radio" name="rating" value="2"></input>
          <input type="radio" name="rating" value="3"></input>
          <input type="radio" name="rating" value="4"></input>
          <input type="radio" name="rating" value="5"></input>
          Awesome
          <textarea id="feedback"></textarea>
          <button id="sendFeedback">Send Feedback</button>
        </div>

        <div class="row tools">
          <button id="fileDownloads" onclick="window.open('/download');">File Downloads</button>
          
          <hr />
        </div>

        <div id="disclaimer">
          <p>Press <code>?</code> for help.</p>
          <p>All features are anonymous</p>
        </div>
    </div>
    <div id="feedbackHandle"></div>
</div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">b</td><td>blank screen</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">g</td><td>toggle follow</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
    <tr><td class="key">s</td><td>choose style</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso"><center>loading presentation...</center></div>
<div id="footer">
  <span id="followMode"></span>
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
  <span id="slideFilename"></span>
  <img id="disconnected" src=".//css/disconnected.png" />
</div>

<div id="slides" class="offscreen" style="display:none;">
<html><body>
<div id="Intro/Intro" class="slide center cover" data-transition="none">
<div class="content center cover" ref="Intro/Intro">
<h1>Orchestrated Functional<br>Testing with Puppet-spec<br>and Mspectator</h1>

<h2>RaphaÃ«l Pinson</h2>

<div style="float: right; margin-right: 1in"><img src="./file/Intro/../images-base/camptocamp_square_400.png"></div>
</div>
</div>
</body></html><html><body>
<div id="Intro/Conformity_tests" class="slide " data-transition="none">
<div class="content " ref="Intro/Conformity_tests">
<h1>Conformity Tests</h1>

<ul>
<li>Check if machines comply to standards</li>
<li>Avoid permanent heavy monitoring checks</li>
<li>Tests must be inter-dependent</li>
<li>Focus on getting sysadmins to fix one thing at a time to converge toward standards</li>
</ul>
</div>
</div>
</body></html><html><body>
<div id="Treetester/Treetester" class="slide " data-transition="none">
<div class="content " ref="Treetester/Treetester">
<h1>Treetester</h1>

<ul>
<li>Back in 2008</li>
<li>Written in Perl</li>
<li>Not open-sourced :'-(</li>
<li>Orchestrate conformity tests on a 4k+ server fleet</li>
</ul>

<div class="notes"><p>
* 2008, with 2 years of Cfengine and 1 year of tests with Puppet
</p></div>
</div>
</div>
</body></html><html><body>
<div id="Treetester/Treetester_example_modules" class="slide " data-transition="none">
<div class="content " ref="Treetester/Treetester_example_modules">
<h1>Treetester: modules output</h1>

<ul>
<li>For all hosts/modules</li>
<li>Number of hosts filtered per module</li>
<li>Modules dependency tree</li>
<li>Colors by priority</li>
</ul>

<p><img src="./file/Treetester/../images-base/treetester_modules_1000.png" alt="Treetester modules example"></p>
</div>
</div>
</body></html><html><body>
<div id="Treetester/Treetester_example_host" class="slide " data-transition="none">
<div class="content " ref="Treetester/Treetester_example_host">
<h1>Treetester: host output</h1>

<ul>
<li>For each host</li>
<li>Failed steps in the module tree</li>
<li>Green: OK, Red: KO, Purple: Ignored</li>
</ul>

<p><img src="./file/Treetester/../images-base/treetester_host_1000.png" alt="Treetester host example"></p>
</div>
</div>
</body></html><html><body>
<div id="Treetester/Treetester_architecture" class="slide " data-transition="none">
<div class="content " ref="Treetester/Treetester_architecture">
<h1>Treetester architecture</h1>

<ul>
<li>All data in a database (MySQL)</li>
<li>Tests scripts output YAML</li>
<li>Tests scripts can be local (hosts as STDIN) or distant (ssh or http)</li>
<li>Tests are inter-dependent</li>
<li>Generate filtered data as a tree</li>
<li>Generate graphs (graphviz)</li>
</ul>
</div>
</div>
</body></html><html><body>
<div id="Treetester/Treetester_filters" class="slide " data-transition="none">
<div class="content " ref="Treetester/Treetester_filters">
<h1>Treetester filters</h1>

<ul>
<li>For each test/module</li>
<li>Based on data in MySQL (joins and additional SQL conditions)</li>
<li>Allows to link tests to each other</li>
<li>Like multiple tamises</li>
</ul>

<p><img src="./file/Treetester/../images-base/tamises_800.jpg" alt="Tamises"></p>
</div>
</div>
</body></html></div>
<div id="pauseScreen">
  PAUSED
</div>

</body>
</html>
